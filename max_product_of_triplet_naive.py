import sys

class Solution:
    # @param A : list of integers
    # @return an integer

    def subset_k_size(self, arr,i , out , k, hp):

        if k == len(out):
            prod = out[0] * out[1] * out[2]
            if hp <= prod:
                hp = prod  
            return hp
        if i == len(arr):
            return hp

        out.append(arr[i])
        #print('Append {} i={} out={}'.format(arr[i], i, out))
        hp_1 = self.subset_k_size(arr,i + 1 , out, k,hp)
        out.pop()
        #print('After pop out={} i={}'.format(out, i))
        hp_2 = self.subset_k_size(arr,i + 1 , out, k , hp)


        return max(hp_1, hp_2)

    def maxp3(self, A):
        
        return self.subset_k_size(A, 0  , [] , 3, -sys.maxsize)


A = [ -249, 658, 272, -878, 709, 165, -42, -503, 729, -612, -169, 157, -933, 278, -335, 826, 267, -633, -149, -821, -672, -336, 745, 91, -357, 153, 944, 490, 196, 903, -666, -24, -853, 408, 933, -981, -13, -814, -536, -669, -94, -501, -195, -404, 298, -123, 882, 566, 337, -144, -897, -828, -358, 397, -904, -231, -175, 298, 399, 412, 557, -8, -968, 530, 962, 365, -852, -821, -712, 901, 831, 57, 790, -679, 6, -98, 319, -223, -760, -126, -506, 770, 94, 844, 534, -394, 738, 590, -159, -947, 217, -539, 385, -885, 420, -968, -915, 534, -11, 152, 295, 396, -815, -33, -397, -547, 210, 211, -377, -625, -868, -776, 439, 331, 301, 560, -984, -789, -15, 769, -455, -506, 502, -108, 331, 638, -997, -849, -731, -14, -775, -180, 223, -260, -545, 525, 256, 597, 704, 150, 412, 797, 381, 65, -699, -129, -483, -607, -322, -176, 224, 366, 444, 285, -898, -133, 576, -266, 711, -614, -737, 591, -762, -197, -588, -873, 304, 200, -960, 947, -730, -546, 238, -926, -857, -114, 360, -418, -585, -15, -102, -643, -967, -269, -303, 103, 385, 459, 930, -132, -603, 920, 231, 203, -520, -258, 676, 934, 879, -574, -542, 771, -879, 970, 723, -971, 318, 299, 621, 124, 958, 771, 560, 751, -503, -801, 80, -274, 413, 25, 783, 117, 550, -195, 511, 666, -593, 565, -742, -352, 141, -200, -127, 787, -625, 517, -842, -974, 373, -911, -54, -929, 189, 356, 860, 592, 116, 867, 939, -901, -616, 671, -671, 45, 240, -453, -350, 563, -533, -827, 531, 516, 515, -601, -661, 324, -936, 15, -216, -973, -720, -169, 827, -728, -384, 949, 46, -666, 520, 991, -258, 744, 718, -825, 689, -14, 918, 29, 727, 754, -396, 83, -865, 252, -876, -675, -710, 192, -747, -299, -715, -579, -164, -501, 289, 33, 89, 217, -38, 338, -321, -496, -788, -987, 235, -684, 784, -667, -615, -976, -825, -631, 698, 639, -503, -765, 107, -365, 454, -450, 832, 141, -977, -900, -465, -622, 317, 48, -29, -708, -657, 752, -621, -996, 930, -555, -312, 427, -444, 198, 856, -303, -914, -766, -921, 752, 719, -410, -669, -943, 431, -816, -971, 370, -891, 833, 177, 683, -489, -434, 904, 891, 522, 890, -813, -127, -784, -870, -581, 802, 332, -759, 377, -10, -150, 941, -720, -112, 956, 152, 14, 918, -101, -821, -501, -961, 510, -805, -137, -96, -421, 518, 489, -54, -643, -250, 415, -494, 758, 92, 714, 60, -368, 847, -787, 234, 571, -875, -871, -293, 471, -764, 630, -80, 342, 382, -828, 575, 0, 947, -87, 733, 261, 400, -778, 423, -14, -662, -610, 218, -55, -555, -534, -321, -226, -459, -714, 879, -100, 285, 284, 915, 67, 707, 728, -363, -890, -278, 761, 840, 0, 507, 551, 431, 739, 584, 108, -454, -28, -370, 947, 543, -8, 552, -163, -19, -356, -487, 899, 244, -466, 274, -909, -834, -684, 549, 467, -589, -773, 295, -874, 231, 28, -70, -297, 646, 111, 463, -781, -230, 213, 950, 959, 992, 330, -559, 779, -272, -81, -622, 956, 591, 196, -704, 129, 175, -416, 80, 288, 128, 662, -149, -583, 659, -959, 382, 54, 381, -28, -544, -595, 710, -923, 219, -431, -846, 670, 610, 64, -361, 620, -661, -434, 90, -260, 928, 381, -468, -722, -517, 364, -956, -341, -836, 728, 902, -616, -946, -672, 523, -605, 633, 553, 925, -153, -733, -139, 258, 160, -929, 598, 633, 276, -646, 464, -192, 842, 859, 145, 127, 748, 370, -292, 928, 143, -563, -272, -9, -486, -769, -357, 486, 816, 754, -615, -966, 877, -412, 231, -463, 324, 833, -527, -429, 144, 451, 979, -407, -600, -310, -891, -225, 929, -553, -858, 963, -768, 526, -219, -204, -92, 370, 962, 317, 413, -571, -35, 288, -978, 723, -508, 926, -806, -255, 276, -896, -864, 416, -491, 398, -748, 651, 977, 661, -228, 235, 308, -679, -323, -392, -978, -295, 475, 962, -819, 35, 468, 234, -778, -45, -75, -687, 37, -534, 675, 555, 399, 93, 633, 47, -330, 665, -682, 314, -241, 591, 760, -912, -430, -200, 467, 988, 686, -495, 102, -183, 136, 489, -725, -722, -605, -691, 774, 862, 283, -419, 330, 375, -462, 736, 308, 947, -411, 0, -896, -645, -962, -754, 286, 10, -173, 635, 571, -821, 413, 957, -743, -768, 415, -891, 369, 134, -143, 906, -807, -203, 447, 949, 759, -550, 186, 685, -922, 181, 251, 495, 454, -980, -830, 714, -136, -9, -919, 610, -609, -867, -266, -520, 577, 142, -881, -30, 436, 945, 233, 456, -517, 781, 805, -160, 201, -944, 555, 443, -13, -781, 518, -729, 82, -32, 195, -504, -711, 610, 551, 761, 405, -113, 636, 994, -743, -502, -70, -212, 932, -97, 73, 819, -911, 978, 45, 562, -983, -709, -550, 665, -617, 299, -584, -442, -515, 257, 264, 154, -27, 259, 386, 129, -549, 198, 603, -443, 585, -587, 31, -461, -214, 832, -511, 871, -733, 30, -704, 887, 681, -786, -40, 936, 938, 526, -712, -621, 341, 54, -197, 451, -332, -804, -405, 943, -539, -697, -965, -605, 412, -184, 299, -740, 846, -893, -49, -649, -796, 696, 250, -431, -935, -801, 437, 120, -894, -903, -286, -143, -332, 578, -202, 220, -630, 367, -844, -749, -273, 416, -348, 957, -705, -307, 527, 715, -897, -495, 26, -398, 662, -853, -203, -723, 221, -34, 702, -279, -750, 850, -948, -981, 208, 178, 267, 910, -358, 946, -656, 637, 734, 508, 113, 724, -613, -962, -377, -147, -753, 739, -194, -424, 958, 948, -401, -392, 580, 940, 868, -463, -134, -871, -650, 10, -525, 494, 34, -546, -121, -589, 865, -110, 109, 323, 474, -494, -875, -357, 222, -172, -39, 417, 890, 896, 895, -516, -684, 578, -972, -635, 526, -30, -258, -212, 312, -628, 926, -726, 981, -392, -9, 124, 240, 815, -292, -52, -677, -626, -261, -849, 719, -376, -581, -659, -193, 829, -348, 879, 227, -431, 406, -272, 930, -77, -294, -652, 577, 151, 84, -15, -177, 895, 600, -117, 617, -568, -575, -122, 716, 142, 8, 305, -406, 719, -962, 135, -894, -610, -363, -847, -110, 447, -748, -88, -932, -256, -702, -889, 494, 107, 500, -401, 744, -474, -775, 866, -491, 940, -59, -97, 563, -85, 519, 392, 53, -876, -797, 903, 374, 303, 581, -725, 425, -185, 421, 260, -872, -853, -581, 162, 745, -470, -400, -547, -370, 959, 579, -29, 656, 581, -362, 45, -454, -93, -808, -966, 878, 30, -26, 710, 951, -301, 879, 537, 202, 123, -574, -596, -762, -846, 155, -722, -657, 579, 527, 36, -347, -584, -860, 600, -513, 475, 162, 806, -507, 537, 55, 466, -833, -557, 576, -914, -735, 638, -460, 343, -455, 711, -612, -690, 545, 434, -764, 840, -118, 598, 687, 588, -782, 734, -46, 620, 975, 342, 438, -115, 177, 267, 580, 696, -881, -272, -638, -620, -986, -305, -595, 495, 883, -827, -599, -951, 6, 595, -661, 725, 379, -24, -122, 473, -503, 934, -857, -41, -829, -786, 94, 630, 154, -219, -483, 913, 639, -68, -429, -805, -940, -197, -568, -900, -447, -488, 320, 572, -430, 969, 629, 132, -607, 562, -409, -548, -708, -867, 614, 335, -163, -958, -59, 523, -744, -737, 42, 777, 382, -175, 210, 670, -953, 328, 873, 771, -405, 621, -934, 328, 785, 158, -923, 872, -335, 856, -998, -895, 383, 943, 537, -362, 942, -903, 281, 788, -655, -983, -565, 256, -851, 190, 832, -429, -414, 925, -526, -357, -307, -551, -959, -465, -494, -64, -429, 872, -53, 232, 359, 40, 589, 18, 486, 662, -698, -27, -227, 409, -935, -761, 832, 219, 803, 131, -304, -474, 411, -708, 805, 792, -215, -513, -480, 305, -49, -209, -848, 307, -580, -63, -566, -200, 442, -391, -893, -198, -761, -177, -797, -712, -860, -465, 513, 50, 123, 722, -816, 377, 612, 76, 41, -475, -943, 781, -582, -152, -461, -617, -627, 286, 456, -1, 411, -970, 670, 985, -357, -297, 199, -783, -419, -137, 799, -218, -815, -315, -24, 966, 496, -778, 371, 445, 577, -954, -608, -608, -852, 211, 160, 910, -110, -860, 20, -6, -708, -624, 993, 416, -81, 985, -203, -22, -295, 183, 857, -356, -801, 10, 295, -691, -581, 520, 415, -524, -764, -795, 693, -505, -378, -230, 387, 974, -270, 911, 164, -688, 662, -816, 977, -377, 290, -751, -521, 740, 777, -5, -684, -975, -539, 899, 974, 466, -222, 460, -447, -417, 365, 774, -388, 258, -310, -310, 992, 848, -750, -319, 632, 593, -811, -458, 553, -664, 802, -869, -514, 595, -67, 867, 253, 883, 368, 400, -437, 571, -417, -158, -888, -873, 920, 193, -189, -828, -198, 550, -546, 365, 811, 443, -4, 757, -46, 703, 27, -951, 729, 416, -150, -302, -45, 115, 388, -528, -622, 326, -661, 884, -890, -628, 343, -452, 238, -387, -515, 761, 977, -228, -535, -239, 323, 991, -959, -748, -452, -8, -121, 469, 381, -213, 154, -469, -680, -827, 788, -864, 706, 627, -331, 757, 727, -738, 842, -465, 11, -502, 373, 836, 564, -401, 40, -955, 787, -401, -999, 457, 43, -482, 239, 261, -432, 784, 856, 707, 608, -987, 732, -757, 564, -328, 623, 244, 132, -285, -164, -126, 410, -590, -224, 967, 710, 763, 964, -927, 600, -544, -69, 855, -678, 869, -421, 557, 789, -242, -802, -152, 987, -107, -832, 503, 427, 985, -19, 865, 217, 793, -534, -357, -545, -612, 969, 830, -549, 190, 808, 872, -117, -611, -731, -268, 801, 737, 978, -194, 583, -84, 787, -769, 762, -148, 630, 594, 50, 815, -591, -371, 601, -410, -592, 128, -512, -539, 851, 864, 611, -991, -441, -397, -6, 911, -882, -318, 3, -808, 937, -899, -249, 818, -75, 281, -330, 128, 197, -661, 337, 195, 807, -325, -666, 850, -75, 865, 29, -973, -556, 353, 952, 362, 211, -294, 682, 9, -644, 765, -3, 404, 955, -175, 963, 711, 987, -277, -290, -220, 790, 311, 262, 269, 278, -957, -850, -298, 968, 501, 488, -481, -711, 844, 796, 256, -662, -639, 487, 100, 91, 898, -870, 1, 384, 127, -986, -89, 727, 500, 540, -210, -223, 623, 714, 169, -162, -935, 671, 70, 593, -626, -199, 126, -241, -419, -415, 798, -268, -889, -183, -420, 42, 250, 432, 892, 902, -90, 302, 275, 432, -769, -947, 795, 793, 94, -558, 666, 742, -154, -545, 272, -796, 246, 106, -643, -414, 217, -892, -868, 137, -432, 766, 692, -960, -615, -385, 63, 564, 425, 115, 586, 723, -550, -420, 79, -317, -30, -51, 528, 599, -256, 76, -648, 633, -657, 210, 800, 170, 555, 786, -586, -283, -587, -659, -199, -571, -703, -596, 298, 237, 21, -994, -327, -198, 190, -330, -617, -307, 539, 433, -489, -871, -36, 146, 876, -384, -887, 249, 986, 413, 527, -642, -971, 854, 260, -759, -298, -948, 167, -133, 790, -966, -411, -758, -757, -423, 775, -676, 85, -592, 824, 786, -113, -238, 703, 611, -872, -896, -365, -219, 871, -249, -738, 965, -443, 947, 177, 580, 138, -761, 76, -542, -104, -469, -465, 715, -169, 701, -510, 693, 593, -815, 505, -953, 149, 120, 822, 459, 128, -216, -876, -193, -536, -435, -119, 493, -344, -876, -980, -937, 885, -441, 802, 243, 385, -992, -679, 894, -552, -277, -454, 568, 150, 854, -508, -190, 344, 287, -331, 582, 881, -182, 256, -530, -70, 333, 445, 597, 912, -833, -177, -535, 366, -269, -584, -332, -281, -247, -815, 661, 26, 562, -759, -435, 823, -59, -865, -646, -721, -951, 43, -599, -861, 155, 294, -673, 201, 58, 91, -381, 198, 490, -954, -740, -960, -182, -965, 415, -888, -425, 186, 45, 693, 81, 996, 366, -61, -659, 219, -992, 781, -805, -618, 663, -138, 933, -736, 496, 709, 217, -436, 539, 814, 868, -284, -275, 912, 459, -348, 832, 906, -210, 775, -308, -507, -957, 207, 710, 136, -238, -115, -572, -343, -339, 626, -685, 80, -856, -489, 165, -151, -973, 744, -3, -540, 253, 852, 668, 387, 562, 596, -964, 45, -709, -578, 31, 11, -960, 197, -506, -544, -284, -580, 378, 809, -66, -936, -926, 136, 952, 967, 36, 515, -599, 312, 636, -910, -254, -23, -173, 757, -216, 471, -476, -507, 75, 792, 563, 29, -736, -315, -275, 108, 509, -677, -24, 519, -544, 115, -254, -167, 748, 870, 413, 41, -603, -362, -808, 776, -367, 668, 951, 749, -624, -865, -29, -73, 127, -988, 230, -957, 259, 179, 477, -601, -32, -362, -179, 0, -431, -718, 310, -219, 292, -376, -336, 366, 726, 677, -985, 505, -806, 218, -781, -233, 381, 62, -619, -479, -185, 582, -656, 494, 959, -463, 330, -450, -65, -839, -613, 692, -153, -495, -720, 843, -467, -510, -264, 249, -887, 44, -121, 352, 812, -62, 184, -616, 717, 208, 861, 863, 658, 932, 173, -811, 653, 872, -407, 338, 481, 537, 641, -633, -504, -391, -160, -536, -949, -725, 828, -7, -772, -623, 62, 14, -596, -347, 174, 269, -12, 179, 366, -254, -884, 779, -137, -620, 955, -645, -709, 143, 292, 749, -152, 271, 671, 701, 391, -422, -64, -871, -982, 685, 558, -854, 605, -374, 458, -977, -571, -733, -258, -544, -318, 585, -484, 761, -6, 173, 631, 612, -412, 379, 757, -401, -35, -325, -59, -853, 407, 93, -269, -935, -276, -418, -649, 932, -588, -756, 222, 846, -175, 420, -798, -646, 167, -739, 299, 605, 364, -600, 261, -700, 199, -788, 460, 834, 753, 901, 340, 550, -984, 719, 601, -443, -674, -208, 85, 211, 87, -575, 382, 793, -160, 875, -863, 228, -887, 789, -605, -5, -385, -936, -623, 336, -234, 732, -888, -515, -297, 886, -390, 552, -255, 200, 234, 600, 588, -25, 391, 275, -81]
_cls = Solution()
print(_cls.maxp3(A))
